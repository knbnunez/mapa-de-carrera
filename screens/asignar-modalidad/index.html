<!doctype html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/flowbite/1.7.0/flowbite.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
        integrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="h-screen w-full">

    <!-- Botón para desplegar cuando se achica el tamaño de la página -->
    <button data-drawer-target="logo-sidebar" data-drawer-toggle="logo-sidebar" aria-controls="logo-sidebar"
        type="button"
        class="inline-flex items-center p-2 mt-2 ml-3 text-sm text-gray-500 rounded-lg sm:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600">
        <span class="sr-only">Desplegar</span>
        <svg class="w-6 h-6" aria-hidden="true" fill="currentColor" viewBox="0 0 20 20"
            xmlns="http://www.w3.org/2000/svg">
            <path clip-rule="evenodd" fill-rule="evenodd"
                d="M2 4.75A.75.75 0 012.75 4h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 4.75zm0 10.5a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5a.75.75 0 01-.75-.75zM2 10a.75.75 0 01.75-.75h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 10z">
            </path>
        </svg>
    </button>
    <aside id="logo-sidebar"
        class="fixed top-0 left-0 z-40 w-65 h-screen transition-transform -translate-x-full sm:translate-x-0"
        aria-label="Sidebar">
        <div class="h-full px-3 py-4 overflow-y-auto bg-red-800">
            <a href="#" class="flex items-center pl-2.5 mb-4 pb-3 border-b-[1px] border-white">
                <img src="https://untdf.edu.ar/img/isologotipo_chico.png" class="h-6 mr-3 sm:h-7" alt="UNTDF Logo" />
                <span class="self-center text-xl font-semibold whitespace-nowrap text-gray-50">Mapa de carreras</span>
            </a>
            <ul id="content-side-bar" class="space-y-2 font-medium">
                <!-- content con js -->
            </ul>
        </div>
    </aside>


    <div class="h-2/3 sm:ml-64 pt-20 flex flex-row">
        
        <div class="container h-full flex flex-col">
            
            <div class="container h-1/2 flex flex-col items-center justify-center">
                <!-- Dropdown list -->
                <button 
                    id="cargoDropdownDefaultButton" 
                    data-dropdown-toggle="cargoDropdown" 
                    class="w-2/3 bg-gray-200 hover:bg-gray-300 focus:ring-1 focus:outline-none focus:ring-gray-400 font-medium rounded-lg text-sm px-5 py-2.5 inline-flex items-center justify-between" 
                    type="button"
                >
                    <span class="font-bold text-stone-600">Cargo</span>
                    <svg class="w-2.5 h-2.5 text-stone-600" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 4 4 4-4"/>
                    </svg>
                </button>
                <!-- options, a este id es al que está relacionado el data-dropdown-toggle del button de arriba -->
                <div id="cargoDropdown" class="z-10 hidden bg-gray-100 divide-y divide-gray-100 rounded-lg shadow w-1/4 font-bold">
                    <ul id="cargoOptions" class="py-2 text-sm text-gray-700" aria-labelledby="cargoDropdownDefaultButton">
                        <!-- Opciones (en js) -->
                    </ul>
                </div>
                
            </div>

            <!-- <div class="w-1/2 bg-gray-200">- Nro: ___, - una vez seleccionados el cargo y/o modalidad, mostrarlos acá también; - ver tema restricción de dedicaciones según la modalidad elegida, lo más fácil sería evaluarla una vez que tratan de hacer el "save"</div> -->
            <div class="container h-1/2 flex flex-row pl-12 sm:pl-20 lg:pl-28">
                <!-- <div class="container h-full w-full flex justify-center bg-yellow-100"> -->
                    <ul>
                        <li id="nroCargo"><!-- Nro cargo --></li>
                        <li id="modalidad"><!-- Modalidad --></li>
                        <li id="dedicacion"><!-- Dedicación --></li>
                    </ul>
                <!-- </div> -->
            </div>

        </div>

        <div class="container h-full p-8 flex flex-col items-center justify-evenly">
            <!-- Dropdown Modalidad list -->
            <button 
                id="modalidadDropdownDefaultButton" 
                data-dropdown-toggle="modalidadDropdown" 
                class="w-2/3 text-white bg-gray-200 hover:bg-gray-300 focus:ring-1 focus:outline-none focus:ring-gray-400 font-medium rounded-lg text-sm px-5 py-2.5 inline-flex items-center justify-between" 
                type="button"
            >
                <span class="font-bold text-stone-600">Modalidad</span>
                <svg class="w-2.5 h-2.5 text-stone-600" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 4 4 4-4"/>
                </svg>
            </button>
            <div id="modalidadDropdown" class="z-10 hidden bg-gray-100 divide-y divide-gray-100 rounded-lg shadow w-1/4 font-bold">
                <ul id="modalidadOptions" class="py-2 text-sm text-gray-700" aria-labelledby="modalidadDropdownDefaultButton">
                    <!-- Opciones (en js) -->
                </ul>
            </div>

            <!-- Dropdown Dedicación list -->
            <button 
                id="dedicacionDropdownDefaultButton" 
                data-dropdown-toggle="dedicacionDropdown" 
                class="w-2/3 text-white bg-gray-200 hover:bg-gray-300 focus:ring-1 focus:outline-none focus:ring-gray-400 font-medium rounded-lg text-sm px-5 py-2.5 inline-flex items-center justify-between" 
                type="button"
            >
                <span class="font-bold text-stone-600">Dedicacion</span>
                <svg class="w-2.5 h-2.5 text-stone-600" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 4 4 4-4"/>
                </svg>
            </button>
            <div id="dedicacionDropdown" class="z-10 hidden bg-gray-100 divide-y divide-gray-100 rounded-lg shadow w-1/4 font-bold">
                <ul id="dedicacionOptions" class="py-2 text-sm text-gray-700" aria-labelledby="dedicacionDropdownDefaultButton">
                    <!-- Opciones (en js) -->
                </ul>
            </div>

            <!-- Button upload -->
            <button id="uploadButton" type="button" class="xl:w-1/4 xl:h-1/6 py-2.5 px-5 mr-2 mb-2 text-sm font-semibold focus:outline-none rounded-lg dark:bg-gray-100 dark:hover:bg-gray-200 hover:bg-gray-100 focus:z-10 inline-flex items-center justify-between ">
                <span class="text-gray-600">Subir Resolución</span>
                <i class="fa-solid fa-arrow-up-from-bracket text-gray-600 ml-4 mr-2"></i>
            </button>
            
            <!-- Hidden file input -->
            <input id="fileInput" type="file" style="display: none;">

            <!-- <div id="dropArea" class="drop-area">
                Arrastra y suelta tus archivos aquí
            </div> -->
        </div>
    </div>

    <div class="h-1/3 p-4 pl-7 sm:ml-64 flex flex-row items-center justify-center">
        <!-- Botón guardar cambios -->
        <button type="button" class="w-1/3 py-2.5 px-5 mr-2 mb-2 text-sm font-semibold focus:outline-none rounded-lg dark:bg-gray-200 dark:hover:bg-gray-300 focus:z-10">
            <span class="text-gray-700">Guardar cambios</span>
        </button>
    </div>


    <script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/1.7.0/flowbite.min.js"></script>
    <script>
        const docenteContent = [
            {
                href: "#",
                iconName: "fa-solid fa-list",
                title: "Ver listado"
            },
            {
                href: "#",
                iconName: "far fa-regular fa-user",
                title: "Ver perfil"
            },
            {
                href: "#",
                iconName: "far fa-folder-open",
                title: "Ver histórico"
            },
            {
                href: "#",
                iconName: "fas fa-chalkboard-teacher",
                title: "Asignar otras actividades"
            },
            {
                href: "#",
                iconName: "fa fa-user-edit",
                title: "Asignar modalidad"
            },
            {
                href: "#",
                iconName: "fas fa-file-upload",
                title: "Cargar documentos"
            },
        ];
        const gralContent = [
            {
                href: "#",
                iconName: "fas fa-user-clock",
                title: "Asignar franja horaria"
            },
            {
                href: "#",
                iconName: "fas fa-clipboard-list",
                title: "Listar comisiones sin asignar"
            }
        ];
        const contentSideBar = document.getElementById("content-side-bar");
        contentSideBar.innerHTML = `<div class="text-white font-semibold text-lg">Docente</div>`;
        docenteContent.forEach((e) => {
            contentSideBar.innerHTML += `
                <li>
                    <a href='${e.href}' class="flex items-center p-2 text-gray-900 rounded-lg hover:bg-red-900 group">
                        <i class="${e.iconName} text-gray-200 text-opacity-90"></i>
                        <span class="ml-3 text-gray-200">${e.title}</span>
                    </a>
                </li>
            `;
        });
        contentSideBar.innerHTML += `<div class="pt-2 text-white font-semibold text-lg">General</div>`;
        gralContent.forEach((e) => {
            contentSideBar.innerHTML += `
                <li>
                    <a href='${e.href}' class="flex items-center p-2 text-gray-900 rounded-lg hover:bg-red-900 group">
                        <i class="${e.iconName} text-gray-200 text-opacity-90"></i>
                        <span class="ml-3 text-gray-200">${e.title}</span>
                    </a>
                </li>
            `;
        });
    </script>

    <script>
        // -------------------------------------------------------------------
        // cargoDropdown

        // Obtenemos el elemento del botón y el menú desplegable
        const cargoDropdown = document.getElementById('cargoDropdown');

        const cargoOptions = document.getElementById('cargoOptions');
        const cargoData = ["N° 1", "N° 324", "N° 52", "N° 128"];
        cargoData.forEach((e) => { cargoOptions.innerHTML += `<li><a class="block px-4 py-2 hover:bg-gray-300" data-option-value="${e}">${e}</a></li>` });

        // Agregamos un controlador de eventos al menú desplegable
        cargoDropdown.addEventListener('click', (event) => {
            // Verificamos si el evento fue disparado por un enlace (<a>)
            if (event.target.tagName === 'A') {
                // Obtenemos el valor almacenado en el atributo data-option-value del enlace
                const selectedValue = event.target.dataset.optionValue;
                // Hacemos algo con el valor seleccionado
                const nroCargo = document.getElementById('nroCargo');
                // console.log('Valor seleccionado:', selectedValue);
                nroCargo.innerHTML = `<span>- ${selectedValue}</span>`;
                cargoDropdown.style.display = 'none';
            }
        });

        document.getElementById('cargoDropdownDefaultButton').addEventListener('click', () => {
            cargoDropdown.style.display = 'block';
        });

        // -------------------------------------------------------------------
        // modalidadDropdown
        const modalidadDropdown = document.getElementById('modalidadDropdown');
        const modalidadOptions = document.getElementById('modalidadOptions');
        const modalidadData = ["Docente investigador", "Docente"];
        modalidadData.forEach((e) => { modalidadOptions.innerHTML += `<li><a class="block px-4 py-2 hover:bg-gray-300" data-option-value="${e}">${e}</a></li>` });
        modalidadDropdown.addEventListener('click', (event) => {
            if (event.target.tagName === 'A') {
                const selectedValue = event.target.dataset.optionValue;
                const modalidad = document.getElementById('modalidad');
                modalidad.innerHTML = `<span>- ${selectedValue}</span>`;
                modalidadDropdown.style.display = 'none';
            }
        });
        document.getElementById('modalidadDropdownDefaultButton').addEventListener('click', () => {
            modalidadDropdown.style.display = 'block';
        });

        // -------------------------------------------------------------------
        // dedicaciónDropdown
        const dedicacionDropdown = document.getElementById('dedicacionDropdown');
        const dedicacionOptions = document.getElementById('dedicacionOptions');
        const dedicacionData = ["Exclusivo", "Semiexclusivo", "Simple", "ToDO: Controlar restricción al tratar de guardar? o en tiempo real?"];
        dedicacionData.forEach((e) => { dedicacionOptions.innerHTML += `<li><a class="block px-4 py-2 hover:bg-gray-300" data-option-value="${e}">${e}</a></li>` });
        dedicacionDropdown.addEventListener('click', (event) => {
            if (event.target.tagName === 'A') {
                const selectedValue = event.target.dataset.optionValue;
                const dedicacion = document.getElementById('dedicacion');
                dedicacion.innerHTML = `<span>- ${selectedValue}</span>`;
                dedicacionDropdown.style.display = 'none';
            }
        });
        document.getElementById('deidacionDropdownDefaultButton').addEventListener('click', () => {
            dedicacionDropdown.style.display = 'block';
        });

    </script>


    <!-- TODO: agregar un elemento visual para DRAG AND DROP -->
    <script>
        var uploadButton = document.getElementById('uploadButton');
        var fileInput = document.getElementById('fileInput');

        uploadButton.addEventListener('click', () => fileInput.click());

        fileInput.addEventListener('change', () => {
            var file = fileInput.files[0];
            console.log('Archivo seleccionado:', file);
        });




        //  acá está la lógica del drop
        var dropArea = document.getElementById('dropArea');

        dropArea.addEventListener('dragenter', function(event) {
            event.preventDefault();
            event.stopPropagation();
            dropArea.classList.add('dragover');
        });

        dropArea.addEventListener('dragover', function(event) {
            event.preventDefault();
            event.stopPropagation();
        });

        dropArea.addEventListener('dragleave', function(event) {
            event.preventDefault();
            event.stopPropagation();
            dropArea.classList.remove('dragover');
        });

        dropArea.addEventListener('drop', function(event) {
            event.preventDefault();
            event.stopPropagation();
            var files = event.dataTransfer.files;
            console.log('Archivos arrastrados:', files);
            dropArea.classList.remove('dragover');
        });
    </script>
    <!--  -->
    <style>
        .drop-area {
            border: 2px dashed gray;
            height: 200px;
            width: 400px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            text-align: center;
        }
        .drop-area.dragover {
           border-color: blue;
        }
    </style>

</body>

</html>